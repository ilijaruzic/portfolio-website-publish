import{u as e,c as t,b as r,r as n,j as o}from"./vendor-react-HKm_9Y_d.js";import{r as s,S as a}from"./index-C3juYS4K.js";import{F as i}from"./vendor-other-BbrUZ2Se.js";const l=e=>"string"==typeof e?e:Array.isArray(e)?e.map(l).join(" "):"object"==typeof e&&null!==e?Object.values(e).map(l).join(" "):"";function c({className:a="",minQueryLength:c=3,autoFocus:d=!1}){const{t:u,i18n:x}=e(),m=t(),g=r(),[h,p]=n.useState(""),[f,b]=n.useState(""),[w,k]=n.useState([]),y=x.getResourceBundle(x.language,"translation"),v=n.useMemo(()=>y?((e,t,r,n)=>{const o=t.language||"en",s=e,a=window.location.origin,c="en"===o?"":`/${o}`,d=[];r.forEach(e=>{const t=(r=s,e.key.split(".").reduce((e,t)=>e&&e[t],r));var r;if(!t)return;const o=`${c}/${"/"===e.path?"":e.path}`.replace(/\/+/g,"/"),i=`${a}${o}`.replace(/\/$/,""),u=o.split("/").filter(Boolean).length,x=(e,t=null)=>{if("object"!=typeof e||null===e)return;const r=e.title||e.name||e.heading||e.role,n=(e=>{const t=["subtitle","content","par1","par2","role","degree"];let r="";for(const o of t)if(e[o]){const t=e[o];r="object"==typeof t?Object.values(t).join(" "):t;break}if(!r)return"";const n=r.match(/[^.!?]+[.!?]/);return n?n[0].trim():r.trim()})(e),s=Object.values(e).some(e=>"object"==typeof e&&null!==e&&(e.title||e.name||e.heading||e.role));r&&"string"==typeof r&&!s&&d.push({url:i,navigateUrl:o,title:r,context:t,snippet:n,fullText:l(e),depth:u}),Object.values(e).forEach(e=>{"object"==typeof e&&null!==e&&x(e,r||t)})},m=e.key.split(".").pop(),g=t.title||n(`header.${m}`)||m;x(t,g)});const u=d.filter((e,t,r)=>t===r.findIndex(t=>t.title.toLowerCase()===e.title.toLowerCase()&&t.navigateUrl===e.navigateUrl));return new i(u,{includeScore:!0,threshold:.2,ignoreLocation:!0,keys:[{name:"title",weight:15},{name:"fullText",weight:1}]})})(y,x,s,u):null,[x,y,u]),[j,N]=n.useState(-1),[S,L]=n.useState("none"),[E,$]=n.useState(!1),T=n.useRef(null),C=n.useRef(null),[M,U]=n.useState(""),[W,z]=n.useState(!1),[F,R]=n.useState(0),B=()=>{if(C.current){const e=C.current.getBoundingClientRect(),t=document.querySelector(".Footer");let r;if(t){const e=t.getBoundingClientRect();r=e.top>window.innerHeight?window.innerHeight:e.top}else r=window.innerHeight;const n=r-e.bottom-20;L(`${Math.max(n,150)}px`)}};n.useLayoutEffect(()=>{B();const e=new ResizeObserver(B);return e.observe(document.body),window.addEventListener("scroll",B),window.addEventListener("resize",B),()=>{e.disconnect(),window.removeEventListener("scroll",B),window.removeEventListener("resize",B)}},[w,E]),n.useEffect(()=>{clearTimeout(window.debounceTimeout),window.debounceTimeout=setTimeout(()=>{b(h.trim().toLowerCase())},300)},[h]),n.useEffect(()=>{if(!f||!v||f.length<c){const e=setTimeout(()=>{k([]),$(!1)},0);return()=>clearTimeout(e)}const e=setTimeout(()=>$(!0),0),t=setTimeout(()=>{const e=((e,t)=>e.search(t).map(e=>{const t=.15*e.item.depth;return{...e,score:e.score-t}}).sort((e,t)=>e.score-t.score).slice(0,10).map(({item:e})=>({title:e.context&&!e.context.includes(".")&&e.title.toLowerCase()!==e.context.toLowerCase()?`${e.context} â€º ${e.title}`:e.title,url:e.url,navigateUrl:e.navigateUrl,snippet:e.snippet})))(v,f);k(e),N(e.length?0:-1),$(!1)},600);return()=>{clearTimeout(e),clearTimeout(t)}},[f,v,c]),n.useEffect(()=>{const e=new URLSearchParams(g.search).get("q")||"",t=setTimeout(()=>{p(e),b(e)},0);return()=>clearTimeout(t)},[g.search]),n.useEffect(()=>{R(1400*Math.random())},[]),n.useEffect(()=>{const e=u("search.placeholder");let t=0;const r=e=>{const{textWidth:t,inputWidth:r}=(e=>{if(!C.current)return{textWidth:0,inputWidth:0};const t=document.createElement("canvas").getContext("2d"),r=window.getComputedStyle(C.current),n=r.fontSize,o=r.fontFamily;return t.font=`${n} ${o}`,{textWidth:t.measureText(e).width,inputWidth:C.current.offsetWidth-24}})(e);if(t>r&&r>0){let n=Math.floor(e.length*(r/t));return"..."+e.slice(e.length-n)}return e},n=setInterval(()=>{if(!W)if(t<=e.length){const n=e.slice(0,t);U(r(n)),t++}else t>e.length&&t<=e.length+24?(U(r(e)),t++):t=0},80);return()=>{clearInterval(n)}},[u,W]),n.useEffect(()=>{if("/search"!==g.pathname&&!g.pathname.endsWith("/search"))return;const e=new URLSearchParams(g.search);f?e.set("q",f):e.delete("q");const t=e.toString()?`?${e.toString()}`:"";m(`${g.pathname}${t}`,{replace:!0})},[f,g.pathname,g.search,m]);const O=()=>{p(""),b(""),k([]),N(-1),$(!1),C.current&&C.current.focus()},D=e=>{p(""),k([]),m(e)},q=!E&&f.length>=c&&0===w.length,A=f.length>=c;return o.jsxs("div",{ref:T,className:`relative w-full ${a}`,children:[o.jsxs("div",{className:"relative z-[60]",children:[o.jsx("input",{ref:C,type:"text",autoFocus:d,placeholder:W?"":M||u("search.placeholder"),className:"peer w-full pl-9 sm:pl-11 pr-10 py-2 sm:py-3 rounded-lg border-2 border-gray-400 bg-white dark:bg-black dark:text-white dark:border-gray-500 outline-none focus:border-indigo-500 dark:focus:border-indigo-200 text-sm sm:text-base transition-all",value:h,onChange:e=>p(e.target.value),onFocus:()=>z(!0),onBlur:e=>!e.target.value&&z(!1),onKeyDown:e=>{"ArrowDown"===e.key?(e.preventDefault(),N(e=>Math.min(e+1,w.length-1))):"ArrowUp"===e.key?(e.preventDefault(),N(e=>Math.max(e-1,0))):"Enter"===e.key&&j>=0?D(w[j].navigateUrl):"Escape"===e.key&&O()}}),o.jsx("svg",{style:{animationDelay:`${F}ms`,animationPlayState:h||W?"paused":"running"},className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 pointer-events-none transition-colors text-gray-400 dark:text-gray-500 opacity-70 peer-focus:text-indigo-500 peer-focus:opacity-100 dark:peer-focus:text-indigo-200 magnifier-idle",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z"})}),h&&o.jsx("button",{onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-200 transition-colors p-1",children:o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A&&o.jsx("ul",{style:{maxHeight:S},className:"absolute left-0 right-0 z-50 mt-2 bg-white dark:bg-black border-2 border-gray-200 dark:border-indigo-200 rounded-lg shadow-none dark:shadow-sm dark:shadow-indigo-200 overflow-y-auto overscroll-contain",children:E?o.jsxs("li",{className:"p-3 sm:p-4 text-center text-indigo-500 dark:text-indigo-200 text-xs sm:text-base flex items-center justify-center gap-2",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 dark:bg-indigo-200 rounded-full animate-bounce [animation-delay:-0.3s]"}),o.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 dark:bg-indigo-200 rounded-full animate-bounce [animation-delay:-0.15s]"}),o.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 dark:bg-indigo-200 rounded-full animate-bounce"}),u("search.in-progress")]}):q?o.jsx("li",{className:"p-3 sm:p-4 text-center text-gray-500 dark:text-gray-400 text-xs sm:text-base",children:u("search.no-results")}):w.map((e,t)=>o.jsx("li",{onMouseEnter:()=>N(t),className:"flex",children:o.jsxs("button",{onClick:()=>D(e.navigateUrl),className:"w-full text-left p-3 sm:p-4 border-b last:border-0 border-gray-100 dark:border-indigo-200/20 flex flex-col h-auto transition-colors "+(t===j?"bg-indigo-500 text-white dark:bg-indigo-200 dark:text-black":""),children:[o.jsx("div",{className:"font-bold leading-tight break-words mb-1 text-xs sm:text-base "+(t===j?"text-white dark:text-black":"text-black dark:text-white"),children:e.title}),e.snippet&&o.jsx("div",{className:"text-[11px] sm:text-sm leading-relaxed break-words mb-1 line-clamp-2 "+(t===j?"text-indigo-50 dark:text-gray-700":"text-gray-600 dark:text-gray-400"),children:e.snippet}),o.jsx("div",{className:"text-[8px] sm:text-[10px] font-mono truncate w-full opacity-80 "+(t===j?"text-white dark:text-indigo-700":"text-indigo-500 dark:text-indigo-200"),children:e.url})]})},t))})]})}function d(){n.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[]);const{t:t}=e();return o.jsxs(o.Fragment,{children:[o.jsx(a,{title:`${t("errors.404.title")} | ilijaruzic.rs`,description:t("errors.404.description"),robots:"noindex, nofollow"}),o.jsxs("div",{id:"not-found",role:"alert","aria-live":"polite",className:"NotFound flex flex-col min-h-screen w-4/5 mx-auto bg-white text-black dark:bg-black dark:text-white pt-24 md:pt-36 lg:pt-48",children:[o.jsx("h1",{className:"text-3xl xd:text-4xl md:text-5xl lg:text-6xl font-bold pt-36",children:t("errors.404.title")}),o.jsx("h3",{className:"text-base xd:text-lg md:text-xl lg:text-3xl pt-16",children:t("errors.404.subtitle")}),o.jsx("p",{className:"text-xs xd:text-sm md:text-base lg:text-lg pt-2",children:t("errors.404.description")}),o.jsx("div",{className:"mt-8 w-full md:w-3/4 lg:w-2/3",children:o.jsx(c,{})})]})]})}const u=Object.freeze(Object.defineProperty({__proto__:null,default:d},Symbol.toStringTag,{value:"Module"}));export{d as N,c as S,u as a};
