import{j as e,I as t}from"./index-JxhIoWb6.js";import{R as s,r as n}from"./vendor-DzUR9v0F.js";import{u as l}from"./i18n-CvT3sr5n.js";const r=s.memo(function({images:t,currentIndex:s,onClose:l}){const[r,i]=n.useState(null),[o,a]=n.useState(null),c=t[s],m=e=>{"Escape"===e.key&&l(),"ArrowRight"===e.key&&x(),"ArrowLeft"===e.key&&d()};n.useEffect(()=>(document.body.style.overflow="hidden",window.addEventListener("keydown",m),()=>{document.body.style.overflow="",window.removeEventListener("keydown",m)}));const x=()=>{s<t.length-1&&l(s+1)},d=()=>{s>0&&l(s-1)};return e.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>l(),onTouchStart:e=>{i(e.touches[0].clientX)},onTouchMove:e=>{a(e.touches[0].clientX)},onTouchEnd:()=>{if(null!==r&&null!==o){const e=r-o;e>50?x():e<-50&&d()}i(null),a(null)},children:[e.jsxs("div",{className:"relative max-w-6xl max-h-[90vh] w-full px-4",onClick:e=>e.stopPropagation(),children:[e.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto rounded-lg object-contain max-h-[80vh] mx-auto"}),e.jsx("p",{className:"text-center mt-2 text-white italic text-sm",children:c.description})]}),s>0&&e.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-3 py-3 hover:scale-110 transition min-w-[48px] min-h-[48px] flex items-center justify-center",onClick:e=>{e.stopPropagation(),d()},"aria-label":"Previous image",children:"‹"}),s<t.length-1&&e.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-3 py-3 hover:scale-110 transition min-w-[48px] min-h-[48px] flex items-center justify-center",onClick:e=>{e.stopPropagation(),x()},"aria-label":"Next image",children:"›"})]})}),i=({title:t,iconUrls:s,icons:n,isDownload:l})=>s.map((s,r)=>{const i=n[r],o=l[r];return e.jsx("a",{href:s,...o?{download:!0}:{target:"_blank",rel:"noreferrer"},"aria-label":t,children:e.jsx(i,{className:"md:transform md:hover:scale-110 md:transition-all md:duration-300 text-xl lg:text-4xl font-semibold"})},s||r)}),o=({title:t,subtitle:s,content:n,iconUrls:r,icons:o,isDownload:a,hasRemark:c,remark:m})=>{const{t:x}=l();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row justify-start items-center gap-8 pt-16 pb-2",children:[e.jsx(i,{title:t,iconUrls:r,icons:o,isDownload:a}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-xl lg:text-4xl font-semibold",children:t}),e.jsx("p",{className:"text-md lg:text-lg",children:s})]})]}),n&&n(),c&&e.jsx("div",{children:e.jsxs("p",{className:"pt-3 pb-6 lg:text-md italic",children:[x("experience.projects.remark"),": ",m]})})]})};function a({title:s,subtitle:l,icons:i,iconUrls:a,isDownload:c,content:m,hasRemark:x,remark:d,imageUrls:u,imageDescriptions:p}){const h=n.useRef(null),[f,j]=n.useState(null);n.useEffect(()=>{if(h.current){(new window.Image).src=h.current.src}},[]);const g=u.map((e,t)=>({url:e,description:p[t]||""}));return e.jsxs(e.Fragment,{children:[e.jsx(o,{title:s,subtitle:l,icons:i,iconUrls:a,isDownload:c,content:m,hasRemark:x,remark:d}),e.jsx("div",{className:"flex flex-row flex-wrap items-center justify-center gap-4",children:g.map(({url:s,description:n},l)=>e.jsxs("figure",{className:"cursor-pointer",children:[e.jsx(t,{ref:0===l?h:null,className:"rounded-md lg:rounded-lg object-cover hover:opacity-80 transition",src:s,alt:n,onClick:()=>j(l)}),e.jsx("figcaption",{className:"text-center mt-2 text-sm italic",children:n})]},s||l))}),null!==f&&e.jsx(r,{images:g,currentIndex:f,onClose:e=>j("number"==typeof e?e:null)})]})}export{a as P,o as a};
