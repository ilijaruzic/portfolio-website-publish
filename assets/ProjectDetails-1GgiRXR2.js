import{R as w,r as h,j as e,I as b,u as v}from"./index-B01yKGDC.js";function y({images:o,currentIndex:s,onClose:n}){const[c,r]=h.useState(null),[a,i]=h.useState(null),d=50,x=o[s],p=t=>{t.key==="Escape"&&n(),t.key==="ArrowRight"&&m(),t.key==="ArrowLeft"&&u()};h.useEffect(()=>(document.body.style.overflow="hidden",window.addEventListener("keydown",p),()=>{document.body.style.overflow="",window.removeEventListener("keydown",p)}));const m=()=>{s<o.length-1&&n(s+1)},u=()=>{s>0&&n(s-1)},f=t=>{r(t.touches[0].clientX)},j=t=>{i(t.touches[0].clientX)},l=()=>{if(c!==null&&a!==null){const t=c-a;t>d?m():t<-d&&u()}r(null),i(null)};return e.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>n(),onTouchStart:f,onTouchMove:j,onTouchEnd:l,children:[e.jsxs("div",{className:"relative max-w-6xl max-h-[90vh] w-full px-4",onClick:t=>t.stopPropagation(),children:[e.jsx("img",{src:x.url,alt:x.description,className:"w-full h-auto rounded-lg object-contain max-h-[80vh] mx-auto"}),e.jsx("p",{className:"text-center mt-2 text-white italic text-sm",children:x.description})]}),s>0&&e.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-2 py-1 hover:scale-110 transition",onClick:t=>{t.stopPropagation(),u()},"aria-label":"Previous image",children:"‹"}),s<o.length-1&&e.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-2 py-1 hover:scale-110 transition",onClick:t=>{t.stopPropagation(),m()},"aria-label":"Next image",children:"›"})]})}const N=w.memo(y),k=({title:o,iconUrls:s,icons:n,isDownload:c})=>s.map((r,a)=>{const i=n[a],d=c[a];return e.jsx("a",{href:r,...d?{download:!0}:{target:"_blank",rel:"noreferrer"},"aria-label":o,children:e.jsx(i,{className:"md:transform md:hover:scale-110 md:transition-all md:duration-300 text-xl lg:text-4xl font-semibold"})},r||a)}),E=({title:o,subtitle:s,content:n,iconUrls:c,icons:r,isDownload:a,hasRemark:i,remark:d})=>{const{t:x}=v();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row justify-start items-center gap-8 pt-16 pb-2",children:[e.jsx(k,{title:o,iconUrls:c,icons:r,isDownload:a}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-xl lg:text-4xl font-semibold",children:o}),e.jsx("p",{className:"text-md lg:text-lg",children:s})]})]}),n&&n(),i&&e.jsx("div",{children:e.jsxs("p",{className:"pt-3 pb-6 lg:text-md italic",children:[x("experience.projects.remark"),": ",d]})})]})};function P({title:o,subtitle:s,icons:n,iconUrls:c,isDownload:r,content:a,hasRemark:i,remark:d,imageUrls:x,imageDescriptions:p}){const m=h.useRef(null),[u,f]=h.useState(null);h.useEffect(()=>{if(m.current){const l=new window.Image;l.src=m.current.src}},[]);const j=x.map((l,t)=>({url:l,description:p[t]||""}));return e.jsxs(e.Fragment,{children:[e.jsx(E,{title:o,subtitle:s,icons:n,iconUrls:c,isDownload:r,content:a,hasRemark:i,remark:d}),e.jsx("div",{className:"flex flex-row flex-wrap items-center justify-center gap-4",children:j.map(({url:l,description:t},g)=>e.jsxs("figure",{className:"cursor-pointer",children:[e.jsx(b,{ref:g===0?m:null,className:"rounded-md lg:rounded-lg object-cover hover:opacity-80 transition",src:l,alt:t,onClick:()=>f(g)}),e.jsx("figcaption",{className:"text-center mt-2 text-sm italic",children:t})]},l||g))}),u!==null&&e.jsx(N,{images:j,currentIndex:u,onClose:l=>f(typeof l=="number"?l:null)})]})}export{P,E as a};
