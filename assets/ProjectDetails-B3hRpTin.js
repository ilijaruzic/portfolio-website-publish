import{R as e,r as t,j as s,u as n}from"./vendor-react-HKm_9Y_d.js";import{I as l}from"./index-C4AIow1I.js";const r=e.memo(function({images:e,currentIndex:n,onClose:l}){const[r,i]=t.useState(null),[o,a]=t.useState(null),c=e[n];function m(){n<e.length-1&&l(n+1)}function x(){n>0&&l(n-1)}const d=t.useCallback(t=>{"Escape"===t.key&&l(),"ArrowRight"===t.key&&n<e.length-1&&l(n+1),"ArrowLeft"===t.key&&n>0&&l(n-1)},[n,e.length,l]);return t.useEffect(()=>(document.body.style.overflow="hidden",window.addEventListener("keydown",d),()=>{document.body.style.overflow="",window.removeEventListener("keydown",d)}),[d]),s.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>l(),onTouchStart:e=>{i(e.touches[0].clientX)},onTouchMove:e=>{a(e.touches[0].clientX)},onTouchEnd:()=>{if(null!==r&&null!==o){const e=r-o;e>50?m():e<-50&&x()}i(null),a(null)},children:[s.jsxs("div",{className:"relative max-w-6xl max-h-[90vh] w-full px-4",onClick:e=>e.stopPropagation(),children:[s.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto rounded-lg object-contain max-h-[80vh] mx-auto"}),s.jsx("p",{className:"text-center mt-2 text-white italic text-sm",children:c.description})]}),n>0&&s.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-3 py-3 hover:scale-110 transition min-w-[48px] min-h-[48px] flex items-center justify-center",onClick:e=>{e.stopPropagation(),x()},"aria-label":"Previous image",children:"‹"}),n<e.length-1&&s.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-3 py-3 hover:scale-110 transition min-w-[48px] min-h-[48px] flex items-center justify-center",onClick:e=>{e.stopPropagation(),m()},"aria-label":"Next image",children:"›"})]})}),i=({title:e,iconUrls:t,icons:n,isDownload:l})=>t.map((t,r)=>{const i=n[r],o=l[r];return s.jsx("a",{href:t,...o?{download:!0}:{target:"_blank",rel:"noreferrer"},"aria-label":e,children:s.jsx(i,{className:"md:transform md:hover:scale-110 md:transition-all md:duration-300 text-xl lg:text-4xl font-semibold"})},t||r)}),o=({title:e,subtitle:t,content:l,iconUrls:r,icons:o,isDownload:a,hasRemark:c,remark:m})=>{const{t:x}=n();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-row justify-start items-center gap-8 pt-16 pb-2",children:[s.jsx(i,{title:e,iconUrls:r,icons:o,isDownload:a}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("h1",{className:"text-xl lg:text-4xl font-semibold",children:e}),s.jsx("p",{className:"text-md lg:text-lg",children:t})]})]}),l&&l(),c&&s.jsx("div",{children:s.jsxs("p",{className:"pt-3 pb-6 lg:text-md italic",children:[x("experience.projects.remark"),": ",m]})})]})};function a({title:e,subtitle:n,icons:i,iconUrls:a,isDownload:c,content:m,hasRemark:x,remark:d,imageUrls:u,imageDescriptions:h}){const p=t.useRef(null),[f,j]=t.useState(null);t.useEffect(()=>{p.current&&((new window.Image).src=p.current.src)},[]);const g=u.map((e,t)=>({url:e,description:h[t]||""}));return s.jsxs(s.Fragment,{children:[s.jsx(o,{title:e,subtitle:n,icons:i,iconUrls:a,isDownload:c,content:m,hasRemark:x,remark:d}),s.jsx("div",{className:"flex flex-row flex-wrap items-center justify-center gap-4",children:g.map(({url:e,description:t},n)=>s.jsxs("figure",{className:"cursor-pointer",children:[s.jsx(l,{ref:0===n?p:null,className:"rounded-md lg:rounded-lg object-cover hover:opacity-80 transition",src:e,alt:t,onClick:()=>j(n)}),s.jsx("figcaption",{className:"text-center mt-2 text-sm italic",children:t})]},e||n))}),null!==f&&s.jsx(r,{images:g,currentIndex:f,onClose:e=>j("number"==typeof e?e:null)})]})}export{a as P,o as a};
