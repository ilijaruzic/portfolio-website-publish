import{R as w,r as u,j as e,I as b}from"./index-DFQFZeHC.js";function v({images:o,currentIndex:s,onClose:l}){const[c,r]=u.useState(null),[a,i]=u.useState(null),d=50,h=o[s],p=t=>{t.key==="Escape"&&l(),t.key==="ArrowRight"&&x(),t.key==="ArrowLeft"&&m()};u.useEffect(()=>(document.body.style.overflow="hidden",window.addEventListener("keydown",p),()=>{document.body.style.overflow="",window.removeEventListener("keydown",p)}));const x=()=>{s<o.length-1&&l(s+1)},m=()=>{s>0&&l(s-1)},f=t=>{r(t.touches[0].clientX)},j=t=>{i(t.touches[0].clientX)},n=()=>{if(c!==null&&a!==null){const t=c-a;t>d?x():t<-d&&m()}r(null),i(null)};return e.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>l(),onTouchStart:f,onTouchMove:j,onTouchEnd:n,children:[e.jsxs("div",{className:"relative max-w-6xl max-h-[90vh] w-full px-4",onClick:t=>t.stopPropagation(),children:[e.jsx("img",{src:h.url,alt:h.description,className:"w-full h-auto rounded-lg object-contain max-h-[80vh] mx-auto"}),e.jsx("p",{className:"text-center mt-2 text-white italic text-sm",children:h.description})]}),s>0&&e.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-2 py-1 hover:scale-110 transition",onClick:t=>{t.stopPropagation(),m()},"aria-label":"Previous image",children:"‹"}),s<o.length-1&&e.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white text-4xl font-bold px-2 py-1 hover:scale-110 transition",onClick:t=>{t.stopPropagation(),x()},"aria-label":"Next image",children:"›"})]})}const y=w.memo(v),N=({title:o,iconUrls:s,icons:l,isDownload:c})=>s.map((r,a)=>{const i=l[a],d=c[a];return e.jsx("a",{href:r,...d?{download:!0}:{target:"_blank",rel:"noreferrer"},"aria-label":o,children:e.jsx(i,{className:"md:transform md:hover:scale-110 md:transition-all md:duration-300 text-xl lg:text-4xl font-semibold"})},r||a)}),k=({title:o,subtitle:s,content:l,iconUrls:c,icons:r,isDownload:a,hasRemark:i,remark:d})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row justify-start items-center gap-8 pt-16 pb-2",children:[e.jsx(N,{title:o,iconUrls:c,icons:r,isDownload:a}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("h1",{className:"text-xl lg:text-4xl font-semibold",children:o}),e.jsx("p",{className:"text-md lg:text-lg",children:s})]})]}),l&&l(),i&&e.jsx("div",{children:e.jsxs("p",{className:"pt-3 pb-6 lg:text-md italic",children:["remark: ",d]})})]});function T({title:o,subtitle:s,icons:l,iconUrls:c,isDownload:r,content:a,hasRemark:i,remark:d,imageUrls:h,imageDescriptions:p}){const x=u.useRef(null),[m,f]=u.useState(null);u.useEffect(()=>{if(x.current){const n=new window.Image;n.src=x.current.src}},[]);const j=h.map((n,t)=>({url:n,description:p[t]||""}));return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:o,subtitle:s,icons:l,iconUrls:c,isDownload:r,content:a,hasRemark:i,remark:d}),e.jsx("div",{className:"flex flex-row flex-wrap items-center justify-center gap-4",children:j.map(({url:n,description:t},g)=>e.jsxs("figure",{className:"cursor-pointer",children:[e.jsx(b,{ref:g===0?x:null,className:"rounded-md lg:rounded-lg object-cover hover:opacity-80 transition",src:n,alt:t,onClick:()=>f(g)}),e.jsx("figcaption",{className:"text-center mt-2 text-sm italic",children:t})]},n||g))}),m!==null&&e.jsx(y,{images:j,currentIndex:m,onClose:n=>f(typeof n=="number"?n:null)})]})}export{T as P,k as a};
